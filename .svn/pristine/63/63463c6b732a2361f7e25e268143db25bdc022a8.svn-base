//
//  InquiryViewController.m
//  WLTX
//
//  Created by 黄伟斌  on 15/11/13.
//  Copyright (c) 2015年 黄伟斌 . All rights reserved.
//

#import "InquiryViewController.h"
#import "CustomCollectionViewCell.h"
#import "CollectionInquiryViewController.h"
#import "CancelVerificationOrderViewController.h"
#import "AppointedOrderViewController.h"
#import "Defines.h"

@interface InquiryViewController ()<UICollectionViewDataSource,UICollectionViewDelegate,UICollectionViewDelegateFlowLayout>
{
    UICollectionView *collectionView;
    NSArray *imageNameDataArray;
    NSArray *nameStringDataArray;
}

@end

@implementation InquiryViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    self.navigationItem.title = @"查询";
    [self initData];
    [self initCollectionView];
}

- (void)initCollectionView
{
    UICollectionViewFlowLayout *layout = [[UICollectionViewFlowLayout alloc] init];
    layout.itemSize = CGSizeMake(kScreenWidth / 3 - 10, 100);   layout.minimumLineSpacing = 10;
    layout.minimumInteritemSpacing = 10;
    collectionView = [[UICollectionView alloc] initWithFrame:self.view.bounds collectionViewLayout:layout];
    collectionView.backgroundColor = [UIColor whiteColor];
    [collectionView registerNib:[UINib nibWithNibName:kc bundle:nil] forCellWithReuseIdentifier:kc];
    collectionView.dataSource = self;
    collectionView.delegate = self;
    [self.view addSubview:collectionView];
}

- (void)initData
{
    imageNameDataArray = @[@"icon72.charge.png",
                           @"icon72.valid.png",
                           @"icon72.write.png"];
    nameStringDataArray = @[@"收款查询",
                            @"核销订单",
                            @"指定订单"];
}

- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section
{
    return 3;
}

- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView1 cellForItemAtIndexPath:(NSIndexPath *)indexPath
{
    CustomCollectionViewCell *cell = [collectionView1 dequeueReusableCellWithReuseIdentifier:kc forIndexPath:indexPath];
    cell.imageNameStr = imageNameDataArray[indexPath.row];
    cell.titleNameString = nameStringDataArray[indexPath.row];
    return cell;
}

- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath
{
    switch (indexPath.row) {
        case 0:
        {
            CollectionInquiryViewController *CIVC = [[CollectionInquiryViewController alloc] init];
            [self.navigationController pushViewController:CIVC animated:YES];
        }
            break;
        case 1:
        {
            CancelVerificationOrderViewController *CVOVC = [[CancelVerificationOrderViewController alloc] init];
            [self.navigationController pushViewController:CVOVC animated:YES];
        }
            break;
        case 2:
        {
            AppointedOrderViewController *AOVC = [[AppointedOrderViewController alloc] init];
            [self.navigationController pushViewController:AOVC animated:YES];
        }
            break;
        default:
            break;
    }
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}


@end
