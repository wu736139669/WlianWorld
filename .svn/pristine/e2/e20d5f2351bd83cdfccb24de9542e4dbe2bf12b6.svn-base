//
//  VerficationOrderViewModel.m
//  WlianWorld
//
//  Created by xmfish on 15/11/17.
//  Copyright © 2015年 ash. All rights reserved.
//

#import "VerficationOrderViewModel.h"

@implementation VerficationOrderViewModel


-(id)init
{
    self = [super init];
    
    if (self)
    {
        self.model = [[VerificationOrderModel alloc] init];
        [self initialize];
    }
    
    return self;
}


- (void)initialize
{
    
    self.model.title = @"核销订单";
    
//    self.validLoginSignal = [[RACSignal combineLatest:@[RACObserve(self, account),RACObserve(self, password)] reduce:^id(NSString* account,NSString* password){
//        return @( (account.length>1) && (password.length>1) );
//    }] distinctUntilChanged];
    
    
    self.racCommand = [[RACCommand alloc] initWithSignalBlock:^RACSignal *(id input) {
        return [self executeSearchSignal];
    }];
        
}


- (RACSignal *)executeSearchSignal {
    
    return [[self.model loadSignalWithType:VerificationOrderType withPage:_page withPageSize:8] doNext:^(id x) {
        self.model = x;
    }];
}

@end
