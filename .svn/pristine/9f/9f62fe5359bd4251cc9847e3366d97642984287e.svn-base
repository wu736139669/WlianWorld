//
//  VerificationOrderModel.m
//  WlianWorld
//
//  Created by xmfish on 15/11/17.
//  Copyright © 2015年 ash. All rights reserved.
//

#import "VerificationOrderModel.h"

@implementation VerificationOrderInfo

+(NSDictionary*)JSONKeyPathsByPropertyKey
{
    NSMutableDictionary* dic = [NSMutableDictionary dictionary];
    [dic setObject:@"order_id" forKey:@"order_id"];
    [dic setObject:@"real_price" forKey:@"real_price"];
    [dic setObject:@"pay_time" forKey:@"pay_time"];
    [dic setObject:@"status_str" forKey:@"status_str"];

    return dic;
}

@end
@implementation VerificationOrderModel

+ (NSDictionary *)JSONKeyPathsByPropertyKey {
    NSMutableDictionary* dic = [NSMutableDictionary dictionaryWithDictionary:[super JSONKeyPathsByPropertyKey]];
    [dic setObject:@"info.count" forKey:@"count"];
    [dic setObject:@"info.rows" forKey:@"orderArr"];
    return dic;
}
+ (NSValueTransformer *)orderArrJSONTransformer
{
    return [MTLJSONAdapter arrayTransformerWithModelClass:VerificationOrderInfo.class];
}
- (instancetype)initWithDictionary:(NSDictionary *)dictionaryValue error:(NSError **)error
{
    self = [super initWithDictionary:dictionaryValue error:error];
    if (self != nil)
    {
    }
    return self;
}
-(RACSignal*)loadSignalWithType:(OrderType)type withPage:(NSInteger)page withPageSize:(NSInteger)pageSize
{
    RACSignal* singnal = [BaseWLService requireWithProperty:[self requireWithDic:[NSDictionary dictionaryWithObjectsAndKeys:[NSString stringWithFormat:@"%d",type],@"type",[NSString stringWithFormat:@"%ld",page],@"page",[NSString stringWithFormat:@"%ld",pageSize],@"page_size", nil]]];
    
    return singnal;

}

-(BaseEntity*)requireWithDic:(NSDictionary *)dic
{
    BaseEntity *pro = [[BaseEntity alloc] init];
    pro.requireType = HTTPRequestTypeWithPOST;
    pro.responesOBJ = self.class;
    pro.reqURL = @"";
    pro.callback = @"user.login";
    pro.pro = dic;
    return pro;
}

@end
